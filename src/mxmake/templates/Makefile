##############################################################################
# THIS FILE IS GENERATED BY MXMAKE
#
# SETTINGS (ALL CHANGES MADE BELOW SETTINGS WILL BE LOST)
##############################################################################

{% for domain_settings in settings %}
## {{ domain_settings.fqn }}

{% for setting in domain_settings.settings %}
{% for line in setting.description %}
# {{ line }}
{% endfor %}
{% if setting.default %}
# Default: {{ setting.default }}
{% else %}
# No default value.
{% endif %}
{{ setting.name }}?={{ setting.value }}

{% endfor -%}
{% endfor -%}
##############################################################################
# END SETTINGS - DO NOT EDIT BELOW THIS LINE
##############################################################################
{{ sections.read() }}
##############################################################################
# Default targets
##############################################################################

ifeq ("$(MXMAKE_MODE)", "dev")
INSTALL_TARGETS+=$(DEV_INSTALL_TARGETS)
DIRTY_TARGETS+=$(DEV_DIRTY_TARGETS)
CLEAN_TARGETS+=$(DEV_CLEAN_TARGETS)
PURGE_TARGETS+=$(DEV_PURGE_TARGETS)
else
INSTALL_TARGETS+=$(PROD_INSTALL_TARGETS)
DIRTY_TARGETS+=$(PROD_DIRTY_TARGETS)
CLEAN_TARGETS+=$(PROD_CLEAN_TARGETS)
PURGE_TARGETS+=$(PROD_PURGE_TARGETS)
endif

INSTALL_TARGET:=$(SENTINEL_FOLDER)/install.sentinel
$(INSTALL_TARGET): $(INSTALL_TARGETS)
	@touch $(INSTALL_TARGET)

.PHONY: install
install: $(INSTALL_TARGET)
	@touch $(INSTALL_TARGET)

.PHONY: dirty
dirty: $(DIRTY_TARGETS)
	@rm -f $(INSTALL_TARGET)

.PHONY: clean
clean: dirty $(CLEAN_TARGETS)
	@rm -rf $(CLEAN_TARGETS) .mxmake-sentinels

.PHONY: purge
purge: clean $(PURGE_TARGETS)

.PHONY: runtime-clean
runtime-clean:
	@echo "Remove runtime artifacts, like byte-code and caches."
	@find . -name '*.py[c|o]' -delete
	@find . -name '*~' -exec rm -f {} +
	@find . -name '__pycache__' -exec rm -fr {} +

##############################################################################
{% for fqn in fqns %}
#: {{ fqn }}
{% endfor %}
##############################################################################
